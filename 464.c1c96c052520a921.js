"use strict";(self.webpackChunkng_song_guesser=self.webpackChunkng_song_guesser||[]).push([[464],{9464:(v,i,r)=>{r.r(i),r.d(i,{RankingComponent:()=>f});var g=r(7414),a=r(6895),t=r(8274),c=r(9646),p=r(4004),h=r(263),l=r(8562),d=r(42);function m(n,o){if(1&n&&(t.TgZ(0,"tr",7)(1,"th",8),t._uU(2),t.qZA(),t.TgZ(3,"td",9),t._uU(4),t.qZA()()),2&n){const e=o.$implicit;t.xp6(2),t.hij(" ",e.username," "),t.xp6(2),t.hij(" ",e.score," ")}}let f=(()=>{class n{constructor(){this._router=(0,t.f3M)(g.F0),this._route=(0,t.f3M)(g.gz),this._userService=(0,t.f3M)(l.f),this._authService=(0,t.f3M)(h.e),this.authState$=this._authService.authState$,this.users$=(0,c.of)([]),this.teamCode=""}ngOnInit(){const e=this._route.snapshot.queryParams.teamCode;this.teamCode=e,this.users$=this._userService.getUsersByTeamCode(e).pipe((0,p.U)(s=>s.sort((u,_)=>u.score>_.score?-1:1))),this.authState$.subscribe(s=>{s||this._router.navigate(["/login"])})}goToSelectSong(e){e&&this._router.navigate(["/select-song"])}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-ranking"]],standalone:!0,features:[t.jDz],decls:15,vars:5,consts:[[1,"relative","overflow-x-auto"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"px-6","py-3"],["class","bg-white border-b dark:bg-gray-800 dark:border-gray-700",4,"ngFor","ngForOf"],[1,"flex","justify-center","mt-2"],[3,"value","onClick"],[1,"bg-white","border-b","dark:bg-gray-800","dark:border-gray-700"],["scope","row",1,"px-6","py-4","font-medium","text-gray-900","whitespace-nowrap","dark:text-white"],[1,"px-6","py-4"]],template:function(e,s){1&e&&(t.TgZ(0,"h1"),t._uU(1),t.qZA(),t.TgZ(2,"div",0)(3,"table",1)(4,"thead",2)(5,"tr")(6,"th",3),t._uU(7," Username "),t.qZA(),t.TgZ(8,"th",3),t._uU(9," Score "),t.qZA()()(),t.TgZ(10,"tbody"),t.YNc(11,m,5,2,"tr",4),t.ALo(12,"async"),t.qZA()(),t.TgZ(13,"div",5)(14,"app-button",6),t.NdJ("onClick",function(_){return s.goToSelectSong(_)}),t.qZA()()()),2&e&&(t.xp6(1),t.hij("Ranking for Team: ",s.teamCode,""),t.xp6(10),t.Q6J("ngForOf",t.lcZ(12,3,s.users$)),t.xp6(3),t.Q6J("value","START"))},dependencies:[a.ez,a.sg,a.Ov,d.r]}),n})()}}]);