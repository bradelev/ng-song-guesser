"use strict";(self.webpackChunkng_song_guesser=self.webpackChunkng_song_guesser||[]).push([[560],{8560:(J,f,s)=>{s.r(f),s.d(f,{SelectSongComponent:()=>A});var m=s(7803),u=s(6895),t=s(8256),d=s(433),x=s(4049),h=s(4482),v=s(5403),w=s(4671);function y(e,l){return e===l}var Z=s(3900),b=s(9646),T=s(4004),O=s(6270);function U(e,l){if(1&e){const n=t.EpF();t.TgZ(0,"div",11),t.NdJ("click",function(){const r=t.CHM(n).$implicit,c=t.oxw(2);return t.KtG(c.selectSong(r.songId))}),t._uU(1),t.qZA()}if(2&e){const n=l.$implicit;t.xp6(1),t.Oqu(n.title)}}function F(e,l){if(1&e&&(t.O4$(),t.kcU(),t.TgZ(0,"div",9),t.YNc(1,U,2,1,"div",10),t.qZA()),2&e){const n=l.ngIf;t.xp6(1),t.Q6J("ngForOf",n)}}let A=(()=>{class e{constructor(){this._router=(0,t.f3M)(m.F0),this._songsService=(0,t.f3M)(O.e),this.searchSong=new d.NI(""),this.songs$=this.searchSong.valueChanges.pipe(function S(e,l=x.z){return(0,h.e)((n,i)=>{let o=null,r=null,c=null;const a=()=>{if(o){o.unsubscribe(),o=null;const g=r;r=null,i.next(g)}};function I(){const g=c+e,p=l.now();if(p<g)return o=this.schedule(void 0,g-p),void i.add(o);a()}n.subscribe((0,v.x)(i,g=>{r=g,c=l.now(),o||(o=l.schedule(I,e),i.add(o))},()=>{a(),i.complete()},void 0,()=>{r=o=null}))})}(500),function C(e,l=w.y){return e=e??y,(0,h.e)((n,i)=>{let o,r=!0;n.subscribe((0,v.x)(i,c=>{const a=l(c);(r||!e(o,a))&&(r=!1,o=a,i.next(c))}))})}(),(0,Z.w)(n=>n?this.getSongs(n):(0,b.of)([])))}getSongs(n){return this._songsService.getSongs().pipe((0,T.U)(i=>i.filter(o=>o.title.toLowerCase().includes(n.toLowerCase()))))}selectSong(n){this._router.navigate(["/guess-the-song"],{queryParams:{songId:n}})}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-select-song"]],standalone:!0,features:[t.jDz],decls:11,vars:4,consts:[[1,"flex","items-center","justify-center","h-screen"],[1,"relative","text-lg","bg-transparent","text-gray-800","w-3/6","m-auto"],[1,"text-3xl","font-bold","text-gray-800","dark:text-white","md:text-4xl","text-center","mb-5"],[1,"border-b","border-b-2","border-teal-500","py-2"],["type","text","autocomplete","off","placeholder","Search song",1,"bg-transparent","border-none","mr-3","px-2","leading-tight","focus:outline-none","w-11/12",3,"formControl"],["type","submit",1,"absolute","right-0","bottom-0","mb-3","mr-4","w-fit"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","id","Capa_1","x","0px","y","0px","viewBox","0 0 56.966 56.966",0,"xml","space","preserve","width","512px","height","512px",1,"h-4","w-4","fill-current",2,"enable-background","new 0 0 56.966 56.966"],["d","M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23  s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92  c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17  s-17-7.626-17-17S14.61,6,23.984,6z"],["class","absolute mt-4 overflow-hidden rounded-md bg-white py-1 shadow-xl shadow-black/5 ring-1 ring-slate-700/10 w-full",4,"ngIf"],[1,"absolute","mt-4","overflow-hidden","rounded-md","bg-white","py-1","shadow-xl","shadow-black/5","ring-1","ring-slate-700/10","w-full"],["class","px-3 py-2 hover:bg-indigo-600 hover:text-white",3,"click",4,"ngFor","ngForOf"],[1,"px-3","py-2","hover:bg-indigo-600","hover:text-white",3,"click"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3,"Select a Song"),t.qZA(),t.TgZ(4,"div",3),t._UZ(5,"input",4),t.TgZ(6,"button",5),t.O4$(),t.TgZ(7,"svg",6),t._UZ(8,"path",7),t.qZA()(),t.YNc(9,F,2,1,"div",8),t.ALo(10,"async"),t.qZA()()()),2&n&&(t.xp6(5),t.Q6J("formControl",i.searchSong),t.xp6(4),t.Q6J("ngIf",t.lcZ(10,2,i.songs$)))},dependencies:[u.ez,u.sg,u.O5,u.Ov,d.UX,d.Fj,d.JJ,d.oH]}),e})()}}]);