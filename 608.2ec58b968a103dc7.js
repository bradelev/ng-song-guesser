"use strict";(self.webpackChunkng_song_guesser=self.webpackChunkng_song_guesser||[]).push([[608],{7608:(v,c,o)=>{o.r(c),o.d(c,{RankingComponent:()=>k});var g=o(9946),i=o(6895),e=o(8256),m=o(9646),d=o(4004),l=o(263);const h=[{username:"userAabcdefghijklmno",teamCode:"teamA1",score:25},{username:"userBabcdefghijklmno",teamCode:"teamA1",score:40},{username:"userCabcdefghijklmno",teamCode:"teamA1",score:30},{username:"userDabcdefghijklmno",teamCode:"teamA1",score:25},{username:"userEabcdefghijklmno",teamCode:"teamB2",score:0},{username:"userFabcdefghijklmno",teamCode:"teamB2",score:30},{username:"userGabcdefghijklmno",teamCode:"teamB2",score:10},{username:"userHabcdefghijklmno",teamCode:"teamC3",score:10},{username:"userIabcdefghijklmno",teamCode:"teamC3",score:30},{username:"userJabcdefghijklmno",teamCode:"teamC3",score:0}];let f=(()=>{class r{getUsers(){return(0,m.of)(h)}getUsersByTeamCode(t){return(0,m.of)(h).pipe((0,d.U)(a=>a.filter(n=>n.teamCode===t)))}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var p=o(42);function C(r,s){if(1&r&&(e.TgZ(0,"tr",7)(1,"th",8),e._uU(2),e.qZA(),e.TgZ(3,"td",9),e._uU(4),e.qZA()()),2&r){const t=s.$implicit;e.xp6(2),e.hij(" ",t.username," "),e.xp6(2),e.hij(" ",t.score," ")}}let k=(()=>{class r{constructor(){this._router=(0,e.f3M)(g.F0),this._route=(0,e.f3M)(g.gz),this._userService=(0,e.f3M)(f),this._authService=(0,e.f3M)(l.e),this.authState$=this._authService.authState$,this.users$=(0,m.of)([]),this.teamCode=""}ngOnInit(){const t=this._route.snapshot.queryParams.teamCode;this.teamCode=t,this.users$=this._userService.getUsersByTeamCode(t).pipe((0,d.U)(a=>a.sort((n,u)=>n.score>u.score?-1:1))),this.authState$.subscribe(a=>{a||this._router.navigate(["/login"])})}goToSelectSong(t){t&&this._router.navigate(["/select-song"])}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-ranking"]],standalone:!0,features:[e.jDz],decls:15,vars:5,consts:[[1,"relative","overflow-x-auto"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"px-6","py-3"],["class","bg-white border-b dark:bg-gray-800 dark:border-gray-700",4,"ngFor","ngForOf"],[1,"flex","justify-center","mt-2"],[3,"value","onClick"],[1,"bg-white","border-b","dark:bg-gray-800","dark:border-gray-700"],["scope","row",1,"px-6","py-4","font-medium","text-gray-900","whitespace-nowrap","dark:text-white"],[1,"px-6","py-4"]],template:function(t,a){1&t&&(e.TgZ(0,"h1"),e._uU(1),e.qZA(),e.TgZ(2,"div",0)(3,"table",1)(4,"thead",2)(5,"tr")(6,"th",3),e._uU(7," Username "),e.qZA(),e.TgZ(8,"th",3),e._uU(9," Score "),e.qZA()()(),e.TgZ(10,"tbody"),e.YNc(11,C,5,2,"tr",4),e.ALo(12,"async"),e.qZA()(),e.TgZ(13,"div",5)(14,"app-button",6),e.NdJ("onClick",function(u){return a.goToSelectSong(u)}),e.qZA()()()),2&t&&(e.xp6(1),e.hij("Ranking for Team: ",a.teamCode,""),e.xp6(10),e.Q6J("ngForOf",e.lcZ(12,3,a.users$)),e.xp6(3),e.Q6J("value","START"))},dependencies:[i.ez,i.sg,i.Ov,p.r]}),r})()}}]);